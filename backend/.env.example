# =========================================
# chamPDF Backend Environment Configuration
# =========================================

# App Configuration
PORT=8000
HOST=0.0.0.0

# =========================================
# CORS Configuration (CRITICAL FOR PRODUCTION)
# =========================================
# Comma-separated list of allowed origins
# Development:
ALLOWED_ORIGINS=http://localhost:5173,http://localhost:8080
# Production example:
# ALLOWED_ORIGINS=https://champdf.com,https://www.champdf.com,https://champdf.pages.dev

# =========================================
# Logging Configuration
# =========================================
# Options: DEBUG, INFO, WARNING, ERROR, CRITICAL
# Development: INFO
# Production: WARNING or ERROR (reduces log verbosity)
LOG_LEVEL=INFO

# =========================================
# File Upload Limits
# =========================================
# Maximum file sizes in megabytes
MAX_VIDEO_SIZE_MB=100
MAX_IMAGE_SIZE_MB=10
MAX_FILE_SIZE=104857600  # 100MB in bytes (calculated automatically from MAX_VIDEO_SIZE_MB)

# =========================================
# Resource Limits
# =========================================
# Maximum number of concurrent heavy processing jobs (prevents OOM)
# Recommended: 2 for Railway/Render, adjust based on available memory
MAX_CONCURRENT_JOBS=2

# Timeout for ML/FFmpeg tasks in seconds
PROCESS_TIMEOUT=300  # 5 minutes

# Health check timeout in seconds
HEALTH_CHECK_TIMEOUT=10

# =========================================
# Paths (Optional - Auto-detected)
# =========================================
# Base temporary directory (defaults to system temp if not set)
# BASE_TEMP_DIR=/tmp/champdf-backend

# Logo directory (defaults to ./assets/logos if not set)
# LOGO_DIR=/app/assets/logos

# Model cache directory (defaults to ~/.u2net)
# Useful for Docker deployments with persistent volumes
# MODEL_CACHE_DIR=/app/models

# =========================================
# Railway-Specific Variables
# =========================================
# These are set automatically by Railway - DO NOT SET MANUALLY

# PORT - Railway assigns dynamically (overrides PORT above)
# WEB_CONCURRENCY - Number of uvicorn workers (default: 2)

# =========================================
# Usage Examples
# =========================================
# Local Development:
#   Copy this file to .env and use defaults
#
# Railway Production:
#   Set in Railway Dashboard > Variables:
#   - ALLOWED_ORIGINS=https://your-domain.com,https://www.your-domain.com
#   - LOG_LEVEL=WARNING
#   - MAX_CONCURRENT_JOBS=2
#
# Docker Production:
#   Pass via docker run -e or docker-compose environment section
